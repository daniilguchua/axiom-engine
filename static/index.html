<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXIOM // ENGINE 1.4</title>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- AXIOM Modular CSS -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/graphs.css">
    <link rel="stylesheet" href="css/messages.css">
</head>

<body>
    <canvas id="neural-canvas"></canvas>

    <div id="app-container">
        <header>
            <div class="brand">
                AXIOM <span>//</span> ENGINE
            </div>
            <div class="header-right">
                <button id="btn-disconnect">END SESSION</button>
                <div class="status-badge">
                    <div class="status-dot" id="status-dot"></div>
                    <span id="status-text">SYSTEM IDLE</span>
                </div>
            </div>
        </header>

        <div id="lobby-panel">
            <div class="lobby-content">
            
                <!-- HERO TAGLINE -->
                <div class="hero-tagline">
                    <h1>See Algorithms <span>Think</span></h1>
                    <p>Interactive algorithm visualization engine powered by AI. Transform complex concepts into <span class="highlight">step-by-step simulations</span> you can explore.</p>
                </div>
                
                <!-- SECTION LABEL -->
                <div class="construct-header">
                    <span>Choose Your Path</span>
                </div>
                
                <!-- FEATURE CARDS -->
                <div class="cards-row">
                    <div class="tech-card" id="card-sim">
                        <div class="tech-icon">‚ö°</div>
                        <div class="tech-content">
                            <div class="tech-title">Start Simulation</div>
                            <div class="tech-desc">Type any algorithm or concept. Watch it come alive with interactive visualizations.</div>
                        </div>
                    </div>
                    <div class="tech-card" id="card-context">
                        <div class="tech-icon">üìÑ</div>
                        <div class="tech-content">
                            <div class="tech-title">Load Context</div>
                            <div class="tech-desc">Upload a PDF to analyze. Ask questions with document-aware responses.</div>
                        </div>
                        <input type="file" id="file-upload" accept=".pdf" style="display:none;">
                        <div class="spinner-overlay" id="spin-pdf" style="display:none;">
                            <div class="spin-ring"></div>
                            <span>PROCESSING</span>
                        </div>
                    </div>
                </div>
                
                <!-- QUICK PRESETS BACKDROP -->
                <div id="presets-backdrop"></div>

                <!-- QUICK PRESETS (hidden by default via CSS, revealed on card-sim click) -->
                <div id="quick-presets">
                    <div class="presets-header">
                        <div class="presets-title">‚ö° Algorithm Library</div>
                        <button class="presets-close" id="close-presets">√ó</button>
                    </div>
                    <div class="presets-content">
                        <div class="preset-filter-bar">
                            <div class="preset-search-row">
                                <input class="presets-search" id="preset-search" type="text" placeholder="Search..." />
                            </div>
                            <div class="preset-subjects">
                                <button class="subject-filter-btn active" data-subject="all">All</button>
                                <button class="subject-filter-btn" data-subject="cs">CS</button>
                                <button class="subject-filter-btn" data-subject="nu">Northwestern</button>
                                <button class="subject-filter-btn" data-subject="bio">Biology</button>
                                <button class="subject-filter-btn" data-subject="math">Math</button>
                                <button class="subject-filter-btn" data-subject="systems">Systems</button>
                                <button class="subject-filter-btn" data-subject="ai">AI/ML</button>
                            </div>
                        </div>

                    <!-- BASIC DATA STRUCTURES & ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">‚≠ê Basic Data Structures & Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate binary search step by step showing how the search space narrows">Binary Search</button>
                            <button class="preset-btn" data-prompt="Simulate quicksort with partition visualization and pivot selection">QuickSort</button>
                            <button class="preset-btn" data-prompt="Simulate mergesort showing the divide and conquer process">MergeSort</button>
                            <button class="preset-btn" data-prompt="Simulate BFS traversal on a graph showing the queue and visited nodes">Breadth-First Search</button>
                            <button class="preset-btn" data-prompt="Simulate DFS traversal with recursive stack visualization">Depth-First Search</button>
                            <button class="preset-btn" data-prompt="Simulate Dijkstra's shortest path algorithm on a weighted graph">Dijkstra's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate stack operations push, pop, peek">Stack Operations</button>
                            <button class="preset-btn" data-prompt="Simulate queue operations enqueue, dequeue">Queue Operations</button>
                            <button class="preset-btn" data-prompt="Simulate hash table with chaining collision resolution">Hash Table (Chaining)</button>
                            <button class="preset-btn" data-prompt="Simulate union-find (disjoint set) with path compression">Union-Find</button>
                        </div>
                    </div>

                    <!-- SORTING ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üî¢ Sorting Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate quicksort with partition visualization and pivot selection">QuickSort</button>
                            <button class="preset-btn" data-prompt="Simulate mergesort showing the divide and conquer process">MergeSort</button>
                            <button class="preset-btn" data-prompt="Simulate heapsort with heap construction and extraction">HeapSort</button>
                            <button class="preset-btn" data-prompt="Simulate shell sort with diminishing gap sequence">Shell Sort</button>
                            <button class="preset-btn" data-prompt="Simulate TimSort combining insertion and merge strategies">TimSort</button>
                            <button class="preset-btn" data-prompt="Simulate bubble sort with optimization to detect sorted arrays early">Bubble Sort</button>
                            <button class="preset-btn" data-prompt="Simulate insertion sort showing how elements are inserted into sorted position">Insertion Sort</button>
                            <button class="preset-btn" data-prompt="Simulate selection sort with minimum element selection">Selection Sort</button>
                            <button class="preset-btn" data-prompt="Simulate radix sort for integer sorting with digit buckets">Radix Sort</button>
                            <button class="preset-btn" data-prompt="Simulate counting sort showing frequency array technique">Counting Sort</button>
                            <button class="preset-btn" data-prompt="Simulate bucket sort dividing elements into buckets">Bucket Sort</button>
                        </div>
                    </div>

                    <!-- SEARCH ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üîç Search Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate binary search step by step showing how the search space narrows">Binary Search</button>
                            <button class="preset-btn" data-prompt="Simulate linear search checking each element sequentially">Linear Search</button>
                            <button class="preset-btn" data-prompt="Simulate Boyer-Moore string search with bad character heuristic">Boyer-Moore (String Search)</button>
                            <button class="preset-btn" data-prompt="Simulate jump search with optimal jump size calculation">Jump Search</button>
                            <button class="preset-btn" data-prompt="Simulate interpolation search with position estimation">Interpolation Search</button>
                            <button class="preset-btn" data-prompt="Simulate exponential search combining binary search">Exponential Search</button>
                            <button class="preset-btn" data-prompt="Simulate ternary search dividing into three parts">Ternary Search</button>
                        </div>
                    </div>

                    <!-- GRAPH ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üó∫Ô∏è Graph Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate Dijkstra's shortest path algorithm on a weighted graph">Dijkstra's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate BFS traversal on a graph showing the queue and visited nodes">Breadth-First Search</button>
                            <button class="preset-btn" data-prompt="Simulate DFS traversal with recursive stack visualization">Depth-First Search</button>
                            <button class="preset-btn" data-prompt="Simulate A* pathfinding with heuristic function and open/closed lists">A* Pathfinding</button>
                            <button class="preset-btn" data-prompt="Simulate Bellman-Ford algorithm detecting negative cycles">Bellman-Ford</button>
                            <button class="preset-btn" data-prompt="Simulate Johnson's algorithm for all-pairs shortest paths">Johnson's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate Floyd-Warshall all-pairs shortest path">Floyd-Warshall</button>
                            <button class="preset-btn" data-prompt="Simulate Kruskal's MST algorithm with union-find">Kruskal's MST</button>
                            <button class="preset-btn" data-prompt="Simulate Prim's MST algorithm with priority queue">Prim's MST</button>
                            <button class="preset-btn" data-prompt="Simulate topological sort on a DAG">Topological Sort</button>
                            <button class="preset-btn" data-prompt="Simulate Tarjan's algorithm for strongly connected components">Tarjan's SCC</button>
                            <button class="preset-btn" data-prompt="Simulate Kosaraju's algorithm for SCC detection">Kosaraju's SCC</button>
                            <button class="preset-btn" data-prompt="Simulate cycle detection in directed graph">Cycle Detection</button>
                            <button class="preset-btn" data-prompt="Simulate bipartite graph checking with two-coloring">Bipartite Check</button>
                            <button class="preset-btn" data-prompt="Simulate max flow min cut with Ford-Fulkerson">Ford-Fulkerson</button>
                        </div>
                    </div>

                    <!-- TREE ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üå≥ Tree Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate AVL tree insertion with rotation balancing">AVL Tree Insert</button>
                            <button class="preset-btn" data-prompt="Simulate Red-Black tree operations with color flipping">Red-Black Tree</button>
                            <button class="preset-btn" data-prompt="Simulate binary search tree insertion and deletion">BST Operations</button>
                            <button class="preset-btn" data-prompt="Simulate B-tree insertion for database indexing">B-Tree Insert</button>
                            <button class="preset-btn" data-prompt="Simulate trie construction for string prefix matching">Trie Construction</button>
                            <button class="preset-btn" data-prompt="Simulate segment tree for range queries">Segment Tree</button>
                            <button class="preset-btn" data-prompt="Simulate Fenwick tree for cumulative frequency">Fenwick Tree (BIT)</button>
                            <button class="preset-btn" data-prompt="Simulate tree traversal inorder, preorder, postorder">Tree Traversals</button>
                            <button class="preset-btn" data-prompt="Simulate lowest common ancestor using binary lifting">LCA Query</button>
                        </div>
                    </div>

                    <!-- DYNAMIC PROGRAMMING -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üíé Dynamic Programming</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate knapsack 0/1 problem with dp table">0/1 Knapsack</button>
                            <button class="preset-btn" data-prompt="Simulate longest common subsequence with backtracking">LCS Problem</button>
                            <button class="preset-btn" data-prompt="Simulate longest increasing subsequence in O(n log n)">LIS Problem</button>
                            <button class="preset-btn" data-prompt="Simulate Kadane's algorithm for maximum subarray sum">Kadane's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate longest palindromic subsequence with dp">Longest Palindromic Subsequence</button>
                            <button class="preset-btn" data-prompt="Simulate edit distance (Levenshtein) between two strings">Edit Distance</button>
                            <button class="preset-btn" data-prompt="Simulate coin change problem with minimum coins">Coin Change</button>
                            <button class="preset-btn" data-prompt="Simulate matrix chain multiplication optimal parenthesization">Matrix Chain</button>
                            <button class="preset-btn" data-prompt="Simulate rod cutting problem for maximum profit">Rod Cutting</button>
                            <button class="preset-btn" data-prompt="Simulate subset sum problem with dp">Subset Sum</button>
                            <button class="preset-btn" data-prompt="Simulate fibonacci with memoization vs tabulation">Fibonacci DP</button>
                        </div>
                    </div>

                    <!-- STRING ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üìù String Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate KMP pattern matching with failure function">KMP Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate Rabin-Karp string matching with rolling hash">Rabin-Karp</button>
                            <button class="preset-btn" data-prompt="Simulate Z-algorithm for pattern searching">Z-Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate prefix function (pi array) construction">Prefix Function</button>
                            <button class="preset-btn" data-prompt="Simulate Manacher's algorithm for longest palindrome">Manacher's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate suffix array construction">Suffix Array</button>
                            <button class="preset-btn" data-prompt="Simulate Aho-Corasick for multiple pattern matching">Aho-Corasick</button>
                        </div>
                    </div>

                    <!-- DATA STRUCTURES -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üóÑÔ∏è Data Structures</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate hash table with chaining collision resolution">Hash Table (Chaining)</button>
                            <button class="preset-btn" data-prompt="Simulate hash table with open addressing and linear probing">Hash Table (Open Addr)</button>
                            <button class="preset-btn" data-prompt="Simulate priority queue with binary heap">Priority Queue</button>
                            <button class="preset-btn" data-prompt="Simulate union-find (disjoint set) with path compression">Union-Find</button>
                            <button class="preset-btn" data-prompt="Simulate LRU cache with doubly linked list and hash map">LRU Cache</button>
                            <button class="preset-btn" data-prompt="Simulate stack operations push, pop, peek">Stack Operations</button>
                            <button class="preset-btn" data-prompt="Simulate queue operations enqueue, dequeue">Queue Operations</button>
                            <button class="preset-btn" data-prompt="Simulate deque operations push/pop at both ends">Deque Operations</button>
                            <button class="preset-btn" data-prompt="Simulate circular buffer for streaming data">Circular Buffer</button>
                            <button class="preset-btn" data-prompt="Simulate skip list for fast search">Skip List</button>
                            <button class="preset-btn" data-prompt="Simulate bloom filter for membership testing">Bloom Filter</button>
                        </div>
                    </div>

                    <!-- BIOLOGY & LIFE SCIENCES -->
                    <div class="preset-category" data-subject="bio">
                        <div class="preset-label">üß¨ Biology & Life Sciences</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate DNA replication with leading and lagging strands">DNA Replication</button>
                            <button class="preset-btn" data-prompt="Simulate transcription and translation from DNA to protein">Central Dogma</button>
                            <button class="preset-btn" data-prompt="Simulate Mendelian inheritance with Punnett squares">Mendelian Inheritance</button>
                            <button class="preset-btn" data-prompt="Simulate PCR amplification cycles and primer binding">PCR Amplification</button>
                            <button class="preset-btn" data-prompt="Simulate enzyme kinetics with Michaelis-Menten curve">Enzyme Kinetics</button>
                            <button class="preset-btn" data-prompt="Simulate SIR disease spread model">Epidemiology (SIR Model)</button>
                            <button class="preset-btn" data-prompt="Simulate population growth with logistic model">Logistic Growth</button>
                        </div>
                    </div>

                    <!-- MACHINE LEARNING -->
                    <div class="preset-category" data-subject="ai">
                        <div class="preset-label">üß† Machine Learning</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate neural network backpropagation with actual gradient calculations">Backpropagation</button>
                            <button class="preset-btn" data-prompt="Simulate gradient descent optimization step by step">Gradient Descent</button>
                            <button class="preset-btn" data-prompt="Simulate k-means clustering with centroid updates">K-Means Clustering</button>
                            <button class="preset-btn" data-prompt="Simulate decision tree construction with information gain">Decision Tree</button>
                            <button class="preset-btn" data-prompt="Simulate k-nearest neighbors classification">KNN Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate linear regression with least squares">Linear Regression</button>
                            <button class="preset-btn" data-prompt="Simulate logistic regression with sigmoid activation">Logistic Regression</button>
                            <button class="preset-btn" data-prompt="Simulate support vector machine margin maximization">SVM</button>
                            <button class="preset-btn" data-prompt="Simulate attention mechanism in transformers">Attention Mechanism</button>
                        </div>
                    </div>

                    <!-- CRYPTOGRAPHY -->
                    <div class="preset-category" data-subject="systems">
                        <div class="preset-label">üîê Cryptography</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate RSA encryption and decryption process">RSA Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate Diffie-Hellman key exchange">Diffie-Hellman</button>
                            <button class="preset-btn" data-prompt="Simulate AES encryption rounds">AES Encryption</button>
                            <button class="preset-btn" data-prompt="Simulate SHA-256 hashing with message blocks">SHA-256 Hashing</button>
                            <button class="preset-btn" data-prompt="Simulate Merkle tree construction for blockchain">Merkle Tree</button>
                        </div>
                    </div>

                    <!-- SYSTEM DESIGN -->
                    <div class="preset-category" data-subject="systems">
                        <div class="preset-label">‚öôÔ∏è System Design & Networks</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate TCP three-way handshake between client and server">TCP Handshake</button>
                            <button class="preset-btn" data-prompt="Simulate consistent hashing for distributed systems">Consistent Hashing</button>
                            <button class="preset-btn" data-prompt="Simulate load balancing with round-robin algorithm">Load Balancing</button>
                            <button class="preset-btn" data-prompt="Simulate rate limiting with token bucket algorithm">Rate Limiting</button>
                            <button class="preset-btn" data-prompt="Simulate consensus with Raft protocol">Raft Consensus</button>
                            <button class="preset-btn" data-prompt="Simulate database transaction with ACID properties">ACID Transaction</button>
                            <button class="preset-btn" data-prompt="Simulate two-phase commit for distributed transactions">Two-Phase Commit</button>
                            <button class="preset-btn" data-prompt="Simulate cache eviction policies LRU, LFU, FIFO">Cache Eviction</button>
                        </div>
                    </div>

                    <!-- NUMBER THEORY & MATH -->
                    <div class="preset-category" data-subject="math">
                        <div class="preset-label">üî¢ Number Theory & Math</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate Euclidean algorithm for GCD">GCD (Euclidean)</button>
                            <button class="preset-btn" data-prompt="Simulate Sieve of Eratosthenes for prime generation">Sieve of Eratosthenes</button>
                            <button class="preset-btn" data-prompt="Simulate fast exponentiation by squaring">Fast Exponentiation</button>
                            <button class="preset-btn" data-prompt="Simulate Chinese Remainder Theorem">Chinese Remainder</button>
                            <button class="preset-btn" data-prompt="Simulate FFT for polynomial multiplication">Fast Fourier Transform</button>
                            <button class="preset-btn" data-prompt="Simulate matrix multiplication Strassen's algorithm">Strassen's Matrix Mult</button>
                        </div>
                    </div>

                    <!-- PROBABILITY & STATISTICS -->
                    <div class="preset-category" data-subject="math">
                        <div class="preset-label">üìä Probability & Statistics</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate Bayes' theorem with prior and posterior updates">Bayes' Theorem</button>
                            <button class="preset-btn" data-prompt="Simulate Markov chain transitions with a state diagram">Markov Chains</button>
                            <button class="preset-btn" data-prompt="Simulate Monte Carlo estimation of pi">Monte Carlo Simulation</button>
                            <button class="preset-btn" data-prompt="Simulate random walk and distribution over time">Random Walk</button>
                        </div>
                    </div>

                    <!-- COMPUTATIONAL GEOMETRY -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üìê Computational Geometry</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate convex hull with Graham scan">Convex Hull</button>
                            <button class="preset-btn" data-prompt="Simulate line intersection checking">Line Intersection</button>
                            <button class="preset-btn" data-prompt="Simulate closest pair of points divide and conquer">Closest Pair</button>
                            <button class="preset-btn" data-prompt="Simulate Voronoi diagram construction">Voronoi Diagram</button>
                        </div>
                    </div>

                    <!-- GREEDY ALGORITHMS -->
                    <div class="preset-category" data-subject="cs">
                        <div class="preset-label">üéØ Greedy Algorithms</div>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate Huffman coding for data compression">Huffman Encoding</button>
                            <button class="preset-btn" data-prompt="Simulate activity selection problem">Activity Selection</button>
                            <button class="preset-btn" data-prompt="Simulate fractional knapsack greedy approach">Fractional Knapsack</button>
                            <button class="preset-btn" data-prompt="Simulate interval scheduling maximization">Interval Scheduling</button>
                        </div>
                    </div>

                    <!-- NORTHWESTERN CS CLASSES -->
                    <div class="preset-category" data-subject="nu">
                        <div class="preset-label">üéì Northwestern CS Classes</div>
                        
                        <!-- CS 211: Fundamentals II -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate stack push and pop operations with visualization of LIFO behavior">CS 211: Stack Operations</button>
                            <button class="preset-btn" data-prompt="Simulate queue enqueue and dequeue with FIFO visualization">CS 211: Queue Operations</button>
                            <button class="preset-btn" data-prompt="Simulate linked list insertion and deletion at different positions">CS 211: Linked List Ops</button>
                            <button class="preset-btn" data-prompt="Simulate recursive Fibonacci with call stack visualization">CS 211: Recursion Demo</button>
                            <button class="preset-btn" data-prompt="Simulate insertion sort step-by-step for understanding basic sorting">CS 211: Insertion Sort</button>
                        </div>
                        
                        <!-- CS 212: Mathematical Foundations -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate set operations: union, intersection, difference with Venn diagrams">CS 212: Set Operations</button>
                            <button class="preset-btn" data-prompt="Simulate graph representation comparing adjacency matrix and adjacency list">CS 212: Graph Representation</button>
                            <button class="preset-btn" data-prompt="Simulate tree traversals: inorder, preorder, postorder with visualization">CS 212: Tree Traversals</button>
                            <button class="preset-btn" data-prompt="Simulate Euclidean algorithm for computing GCD step-by-step">CS 212: GCD Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate modular arithmetic operations with visualization">CS 212: Modular Arithmetic</button>
                        </div>
                        
                        <!-- CS 213: Computer Systems -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate two's complement representation and conversion">CS 213: Two's Complement</button>
                            <button class="preset-btn" data-prompt="Simulate bitwise operations: AND, OR, XOR, shift with binary visualization">CS 213: Bitwise Operations</button>
                            <button class="preset-btn" data-prompt="Simulate direct-mapped cache with hits and misses">CS 213: Cache Simulation</button>
                            <button class="preset-btn" data-prompt="Simulate virtual memory page table translation">CS 213: Page Tables</button>
                            <button class="preset-btn" data-prompt="Simulate process scheduling: FCFS and Round Robin comparison">CS 213: Process Scheduling</button>
                        </div>
                        
                        <!-- CS 214: Data Structures -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate AVL tree rotations: single and double rotations for balancing">CS 214: AVL Tree Rotations</button>
                            <button class="preset-btn" data-prompt="Simulate Red-Black tree insertion with color flips and rotations">CS 214: Red-Black Insert</button>
                            <button class="preset-btn" data-prompt="Simulate binary heap insert and extract-min operations">CS 214: Heap Operations</button>
                            <button class="preset-btn" data-prompt="Simulate Union-Find with path compression optimization">CS 214: Union-Find</button>
                            <button class="preset-btn" data-prompt="Simulate B-tree insertion and splitting nodes">CS 214: B-Tree Operations</button>
                        </div>
                        
                        <!-- CS 336: Algorithms -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate Floyd-Warshall algorithm for all-pairs shortest paths">CS 336: Floyd-Warshall</button>
                            <button class="preset-btn" data-prompt="Simulate Ford-Fulkerson max flow algorithm with augmenting paths">CS 336: Network Flow</button>
                            <button class="preset-btn" data-prompt="Simulate 0/1 knapsack dynamic programming with table">CS 336: Knapsack DP</button>
                            <button class="preset-btn" data-prompt="Simulate activity selection greedy algorithm">CS 336: Greedy Selection</button>
                            <button class="preset-btn" data-prompt="Simulate merge sort analyzing divide and conquer paradigm">CS 336: MergeSort Analysis</button>
                        </div>
                        
                        <!-- CS 340: Operating Systems -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate page replacement algorithms: LRU, FIFO, and Optimal">CS 340: Page Replacement</button>
                            <button class="preset-btn" data-prompt="Simulate Banker's algorithm for deadlock avoidance">CS 340: Banker's Algorithm</button>
                            <button class="preset-btn" data-prompt="Simulate disk scheduling: SCAN and C-SCAN algorithms">CS 340: Disk Scheduling</button>
                            <button class="preset-btn" data-prompt="Simulate producer-consumer problem with semaphores">CS 340: Producer-Consumer</button>
                            <button class="preset-btn" data-prompt="Simulate memory allocation: First-Fit, Best-Fit, Worst-Fit">CS 340: Memory Allocation</button>
                        </div>
                        
                        <!-- CS 343: Computer Networks -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate TCP three-way handshake with SYN, SYN-ACK, ACK">CS 343: TCP Handshake</button>
                            <button class="preset-btn" data-prompt="Simulate sliding window protocol for flow control">CS 343: Sliding Window</button>
                            <button class="preset-btn" data-prompt="Simulate distance vector routing algorithm with Bellman-Ford">CS 343: Distance Vector</button>
                            <button class="preset-btn" data-prompt="Simulate link state routing using Dijkstra's algorithm">CS 343: Link State Routing</button>
                            <button class="preset-btn" data-prompt="Simulate TCP congestion control: slow start and congestion avoidance">CS 343: Congestion Control</button>
                        </div>
                        
                        <!-- CS 348: Artificial Intelligence -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate A* pathfinding algorithm with heuristic function">CS 348: A* Pathfinding</button>
                            <button class="preset-btn" data-prompt="Simulate minimax with alpha-beta pruning for game trees">CS 348: Minimax Alpha-Beta</button>
                            <button class="preset-btn" data-prompt="Simulate k-Nearest Neighbors classification algorithm">CS 348: k-NN Classification</button>
                            <button class="preset-btn" data-prompt="Simulate decision tree construction using ID3 algorithm">CS 348: Decision Tree ID3</button>
                            <button class="preset-btn" data-prompt="Simulate Bayesian inference with prior and posterior probabilities">CS 348: Bayesian Inference</button>
                        </div>
                        
                        <!-- CS 351: Database Systems -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate B+ tree index operations: search, insert, split">CS 351: B+ Tree Index</button>
                            <button class="preset-btn" data-prompt="Simulate join algorithms: nested loop join vs hash join">CS 351: Join Algorithms</button>
                            <button class="preset-btn" data-prompt="Simulate query optimization with query execution tree">CS 351: Query Optimization</button>
                            <button class="preset-btn" data-prompt="Simulate ACID transaction properties with commit and rollback">CS 351: ACID Transactions</button>
                            <button class="preset-btn" data-prompt="Simulate two-phase locking protocol for concurrency control">CS 351: Two-Phase Locking</button>
                        </div>
                        
                        <!-- CS 361: Machine Learning -->
                        <div class="preset-buttons">
                            <button class="preset-btn" data-prompt="Simulate gradient descent optimization finding local minimum">CS 361: Gradient Descent</button>
                            <button class="preset-btn" data-prompt="Simulate neural network backpropagation algorithm">CS 361: Backpropagation</button>
                            <button class="preset-btn" data-prompt="Simulate k-means clustering algorithm with centroid updates">CS 361: K-Means Clustering</button>
                            <button class="preset-btn" data-prompt="Simulate linear regression with least squares fitting">CS 361: Linear Regression</button>
                            <button class="preset-btn" data-prompt="Simulate k-fold cross-validation for model evaluation">CS 361: Cross-Validation</button>
                        </div>
                    </div>

                    </div><!-- /.presets-content -->
                </div><!-- /#quick-presets -->

                <div class="lobby-search-wrapper">
                    <button id="lobby-enhance-btn" title="Enhance prompt with AI">‚ú®</button>
                    <input type="text" id="lobby-input" placeholder="Describe an algorithm, concept, or process to visualize..." autocomplete="off">
                    <button id="lobby-btn">GENERATE ‚Üí</button>
                </div>

                <div class="lobby-footer">
                    <span>Built by Daniil</span>
                    <div class="footer-links">
                        <a href="#" target="_blank">GitHub</a>
                        <a href="#" target="_blank">LinkedIn</a>
                    </div>
                </div>

            </div>
        </div>

        <div id="chat-panel">
            <div id="chat-history"></div>
            
            <div class="input-wrapper">
                <div class="input-row">
                    <!-- Difficulty Dropdown -->
                    <div class="difficulty-dropdown" id="difficulty-dropdown">
                        <button class="diff-dropdown-trigger" id="diff-trigger" type="button">
                            <span class="diff-current-icon">‚öôÔ∏è</span>
                            <span class="diff-current-text">Engineer</span>
                            <span class="diff-chevron">‚ñæ</span>
                        </button>
                        <div class="diff-dropdown-menu" id="diff-menu">
                            <button class="diff-option" data-difficulty="explorer" type="button">
                                <span class="diff-option-icon">üåü</span>
                                <span class="diff-option-content">
                                    <span class="diff-option-name">Explorer</span>
                                    <span class="diff-option-desc">Beginner-friendly</span>
                                </span>
                            </button>
                            <button class="diff-option active" data-difficulty="engineer" type="button">
                                <span class="diff-option-icon">‚öôÔ∏è</span>
                                <span class="diff-option-content">
                                    <span class="diff-option-name">Engineer</span>
                                    <span class="diff-option-desc">Technical</span>
                                </span>
                            </button>
                            <button class="diff-option" data-difficulty="architect" type="button">
                                <span class="diff-option-icon">üèóÔ∏è</span>
                                <span class="diff-option-content">
                                    <span class="diff-option-name">Architect</span>
                                    <span class="diff-option-desc">Deep theory</span>
                                </span>
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn secondary" id="btn-enhance">‚ú®</button>
                    <input type="text" id="user-input" placeholder="Describe what you want to simulate...">
                    <button class="btn secondary" onclick="document.getElementById('file-upload').click()">üìé</button>
                    <button class="btn" id="btn-send">EXECUTE</button>
                </div>
                <div class="doc-badge-container">
                    <div class="doc-badge" id="doc-badge" style="display:none;">
                        <span class="doc-badge-icon">üìÑ</span>
                        <span class="doc-badge-name" id="doc-badge-name"></span>
                        <button class="doc-badge-close" id="doc-badge-close" title="Remove document">&times;</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DIFFICULTY SELECTION MODAL -->
    <dialog id="difficulty-modal" class="difficulty-modal">
        <div class="difficulty-modal-content">
            <div class="difficulty-modal-header">
                <h2>üéØ Choose Your Learning Level</h2>
                <p>Select the depth and style that matches your experience</p>
            </div>
            
            <div class="difficulty-cards">
                <!-- EXPLORER -->
                <div class="difficulty-card" data-difficulty="explorer">
                    <div class="diff-card-header explorer">
                        <span class="diff-card-icon">üåü</span>
                        <span class="diff-card-title">Explorer</span>
                    </div>
                    <div class="diff-card-tagline">Fun & Friendly Learning</div>
                    <div class="diff-card-body">
                        <p class="diff-card-desc">Perfect for beginners! Uses games, analogies, and emojis to make algorithms approachable and fun.</p>
                        <div class="diff-card-audience">
                            <strong>Best for:</strong> CS101/102 students, visual learners, anyone new to algorithms
                        </div>
                        <ul class="diff-card-features">
                            <li>üéÆ Game & real-world analogies</li>
                            <li>üòä Encouraging, simple language</li>
                            <li>üìä Clean diagrams (8-15 nodes)</li>
                            <li>üéâ Celebrates your progress!</li>
                        </ul>
                    </div>
                    <div class="diff-card-example">
                        <strong>Example:</strong> "BFS is like a pizza delivery driver visiting ALL houses on one street before moving to the next!"
                    </div>
                </div>
                
                <!-- ENGINEER -->
                <div class="difficulty-card selected" data-difficulty="engineer">
                    <div class="diff-card-header engineer">
                        <span class="diff-card-icon">‚öôÔ∏è</span>
                        <span class="diff-card-title">Engineer</span>
                        <span class="diff-card-badge">RECOMMENDED</span>
                    </div>
                    <div class="diff-card-tagline">Technical & Practical</div>
                    <div class="diff-card-body">
                        <p class="diff-card-desc">Industry-ready explanations with Big-O analysis, pseudocode, edge cases, and real-world applications.</p>
                        <div class="diff-card-audience">
                            <strong>Best for:</strong> DS&A students, interview prep, working developers
                        </div>
                        <ul class="diff-card-features">
                            <li>üìê Time/Space complexity analysis</li>
                            <li>üíª Pseudocode with calculations</li>
                            <li>‚ö†Ô∏è Edge cases & invariants</li>
                            <li>üîß Real-world applications</li>
                        </ul>
                    </div>
                    <div class="diff-card-example">
                        <strong>Example:</strong> "Dijkstra's runs in O((V+E)log V) with a binary heap. The invariant: extracted nodes have final distances."
                    </div>
                </div>
                
                <!-- ARCHITECT -->
                <div class="difficulty-card" data-difficulty="architect">
                    <div class="diff-card-header architect">
                        <span class="diff-card-icon">üèóÔ∏è</span>
                        <span class="diff-card-title">Architect</span>
                    </div>
                    <div class="diff-card-tagline">Deep Theory & Systems</div>
                    <div class="diff-card-body">
                        <p class="diff-card-desc">Research-level depth with mathematical rigor, hardware context, tensor operations, and scaling analysis.</p>
                        <div class="diff-card-audience">
                            <strong>Best for:</strong> Grad students, senior engineers, ML researchers
                        </div>
                        <ul class="diff-card-features">
                            <li>üìù Mathematical derivations</li>
                            <li>üñ•Ô∏è Hardware-aware (FLOPs, bandwidth)</li>
                            <li>üî¨ Numerical stability analysis</li>
                            <li>üìà Scaling & production concerns</li>
                        </ul>
                    </div>
                    <div class="diff-card-example">
                        <strong>Example:</strong> "Attention is O(n¬≤d). The n√ón matrix is memory-bound; Flash Attention tiles to avoid materialization."
                    </div>
                </div>
            </div>
            
            <div class="difficulty-modal-footer">
                <button id="btn-diff-cancel" class="btn-diff secondary">Cancel</button>
                <button id="btn-diff-confirm" class="btn-diff primary">
                    <span id="btn-diff-text">Start with Engineer Mode</span>
                    <span class="btn-arrow">‚Üí</span>
                </button>
            </div>
        </div>
    </dialog>

    <!-- INPUT MODAL (existing) -->
    <dialog id="input-modal" class="cyber-modal">
        <div class="modal-content">
            <div class="modal-header">>> AXIOM_INPUT_REQUIRED</div>
            <div class="modal-body">
                <label id="modal-label">Enter Parameter:</label>
                <input type="text" id="modal-input-field" autocomplete="off">
            </div>
            <div class="modal-footer">
                <button id="btn-modal-cancel">ABORT</button>
                <button id="btn-modal-confirm">EXECUTE_COMMAND</button>
            </div>
        </div>
    </dialog>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/sanitizer.js"></script>
    <script src="js/repair.js"></script>
    <script src="neural-bg.js"></script> 
    <script src="js/renderer.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/interactions.js"></script>
    <script src="js/difficulty.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
